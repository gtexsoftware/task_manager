{"version":3,"sources":["../index.js"],"names":[],"mappings":";;;;;;;;;;kBA0BwB,Y;;AArBxB;;;;AACA;;;;;;;;;;;;;;AAMA,IAAM,YAAY,mBAAlB;;;;;;;;;;;;;;AAce,SAAS,YAAT,CAAuB,EAAvB,EAA2B,EAA3B,EAA+B;AAC5C,YAAU,GAAV,CAAc,EAAd,EAAkB,EAAlB;;AAEA,SAAO,SAAS,MAAT,GAAmB;AACxB,cAAU,MAAV,CAAiB,EAAjB;AACD,GAFD;AAGD;AACD,aAAa,WAAb,GAA2B,WAA3B;AACA,aAAa,OAAb,GAAuB,OAAvB;;;;;;;;;AASA,SAAS,WAAT,CAAsB,CAAtB,EAAyB;AACvB,YAAU,OAAV,CAAkB,UAAU,EAAV,EAAc,EAAd,EAAkB;AAClC,QAAI,CAAC,4BAAS,EAAT,EAAa,EAAE,MAAf,CAAL,EAA6B;;AAE3B,SAAG,IAAH,CAAQ,EAAR,EAAY,CAAZ;AACD;AACF,GALD;AAMD;;AAED,SAAS,OAAT,CAAkB,GAAlB,EAAuB;AACrB,MAAI,CAAC,GAAL,EAAU,MAAM,QAAN;AACV,2BAAG,IAAH,CAAQ,GAAR,EAAa,OAAb,EAAsB,WAAtB;AACD;;AAED,IAAI,gBAAgB,OAAO,QAA3B,EAAqC;AACnC,UAAQ,QAAR;AACD","file":"index.js","sourcesContent":["\n/**\n * Module dependencies.\n */\n\nimport ev from 'component-event';\nimport contains from 'node-contains';\n\n/**\n * Hash of elements and callback functions.\n */\n\nconst callbacks = new Map();\n\n/**\n * A \"click outside\" of a given DOM event implementation.\n *\n * Based off of this StackOverflow answer:\n *   http://stackoverflow.com/a/14188699/376773\n *\n * @param {Element} el - DOM element to watch for outside clicks\n * @param {Function} fn - callback function to invoke when user clicks outside of `el`\n * @return {Function} a function to stop watching for \"click outside\" events for `el`\n * @api public\n */\n\nexport default function clickOutside (el, fn) {\n  callbacks.set(el, fn);\n\n  return function unbind () {\n    callbacks.delete(el);\n  };\n}\nclickOutside.globalClick = globalClick;\nclickOutside.install = install;\n\n/**\n * Global \"click\" event handler.\n *\n * @param {Event} e\n * @api private\n */\n\nfunction globalClick (e) {\n  callbacks.forEach(function (fn, el) {\n    if (!contains(el, e.target)) {\n      // click outside\n      fn.call(el, e);\n    }\n  });\n}\n\nfunction install (doc) {\n  if (!doc) doc = document;\n  ev.bind(doc, 'click', globalClick);\n}\n\nif ('undefined' !== typeof document) {\n  install(document);\n}\n"]}